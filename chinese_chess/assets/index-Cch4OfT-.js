(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const s of e.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function c(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(t){if(t.ep)return;t.ep=!0;const e=c(t);fetch(t.href,e)}})();const b=""+new URL("board-Cmf857hr.svg",import.meta.url).href,u=50,m=25,h=25;let r=null,d=0,f=0;function p(l,n){const c=Math.round((l-m)/u)*u+m,o=Math.round((n-h)/u)*u+h;return{x:c,y:o}}function y(l){let n,c=0;l.getAttribute("data-color")==="red"?(n=500+Math.floor(f/8)*50,c=25+f%8*50,f++):(n=600+Math.floor(d/8)*50,c=25+d%8*50,d++),l.setAttribute("transform",`translate(${n},${c})`)}function v(l){l.getElementById("svg-object").addEventListener("load",function(){const n=this.contentDocument;n.querySelectorAll(".piece").forEach(o=>{o.addEventListener("click",t=>{if(t.stopPropagation(),r)if(r.getAttribute("data-color")===o.getAttribute("data-color"))r.querySelectorAll("circle").forEach(e=>{e.setAttribute("fill","white")}),r=o;else{const s=o.getAttribute("transform").match(/translate\(([^,]+),([^)]+)\)/);let i,a=0;s&&(i=parseFloat(s[1]),a=parseFloat(s[2])),console.log(`x: ${i}, y: ${a}`),y(o),r.querySelectorAll("circle").forEach(g=>{g.setAttribute("fill","white")}),r.setAttribute("transform",`translate(${i},${a})`),r=null}else r=o;r&&r.querySelectorAll("circle").forEach(e=>{e.setAttribute("fill","yellow")})})}),n.addEventListener("click",o=>{if(!r)return;const t=o.clientX,e=o.clientY,{x:s,y:i}=p(t,e);r.setAttribute("transform",`translate(${s},${i})`),r&&r.querySelectorAll("circle").forEach(a=>{a.setAttribute("fill","white")}),r=null})})}document.querySelector("#app").innerHTML=`
  <div>
    <h1>Hello SVG Chinese Chess Board!</h1>
    <div id="svg-container">
      <object id="svg-object" type="image/svg+xml" data="${b}"></object>
    </div>
      <button id="reset-button">Reset</button>
  </div>
`;document.getElementById("reset-button").addEventListener("click",function(){document.getElementById("svg-object").data=b});v(document);
